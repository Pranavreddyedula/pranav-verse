<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Project</title>
<link rel="stylesheet" href="style.css">

<style>
body{
    background:#071a2f;
    color:white;
    font-family:Segoe UI;
}
header{
    background:#02142a;
    padding:18px;
    font-size:26px;
}
.container{
    width:80%;
    margin:auto;
    margin-top:30px;
}
.card{
    background:#031c3a;
    padding:20px;
    border-radius:8px;
}
.card img{
    width:100%;
    max-height:350px;
    object-fit:cover;
    border-radius:6px;
    margin-bottom:15px;
}
a{color:#4db3ff}
.footer{text-align:center;margin:40px;opacity:.6}
</style>
</head>

<body>

<header>Project Details</header>

<div class="container" id="box">
Loading project...
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDAqqurQ5zb1iWdcnrFJp6XCgNE3YJfYKA",
  authDomain: "pranav-verse.firebaseapp.com",
  projectId: "pranav-verse",
  storageBucket: "pranav-verse.firebasestorage.app",
  messagingSenderId: "219763606325",
  appId: "1:219763606325:web:05178480d6655a3ceec27c"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const id = new URLSearchParams(location.search).get("id");
const box = document.getElementById("box");

async function loadProject(){

    if(!id){
        box.innerHTML="<h2>Invalid project link</h2>";
        return;
    }

    const snap = await getDoc(doc(db,"projects",id));

    if(!snap.exists()){
        box.innerHTML="<h2>Project not found</h2>";
        return;
    }

    const p = snap.data();

    box.innerHTML=`
    <div class="card">
        <h2>${p.title}</h2>
        <img src="${p.image || ""}" alt="">
        <p>${p.description || ""}</p>

        <h3>Links</h3>
        <a href="${p.github}" target="_blank">Source Code</a><br>
        <a href="${p.live}" target="_blank">Live Demo</a>
    </div>`;
}

loadProject();

</script>

<div class="footer">Created by Edula Sai Pranav Reddy</div>

</body>
</html>
